<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leo Cai - Blog</title>
    <meta name="description" content="Leo Cai's blog - Thoughts on software engineering, database systems, and more">
    <link rel="stylesheet" href="../assets/css/terminal.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="../icon.webp" type="image/webp">
    <style>
        :root {
            --terminal-bg: #282c34;
            --terminal-text: #abb2bf;
            --terminal-green: #98c379;
            --terminal-blue: #61afef;
            --terminal-yellow: #e5c07b;
            --terminal-red: #e06c75;
            --terminal-purple: #c678dd;
            --terminal-cyan: #56b6c2;
            --terminal-prompt: #98c379;
            --terminal-cursor: #61afef;
            --terminal-selection: rgba(97, 175, 239, 0.3);
            --terminal-comment: #5c6370;
            --terminal-font: 'Fira Code', monospace;
        }
        
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: var(--terminal-bg);
            color: var(--terminal-text);
            font-family: var(--terminal-font);
            line-height: 1.2;
        }
        
        /* Terminal Window */
        .terminal-window {
            background-color: var(--terminal-bg);
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .terminal-header {
            background: #21252b;
            height: 30px;
            padding: 0 8px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            position: relative;
        }
        
        .terminal-button {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .terminal-close {
            background-color: #ff5f56;
        }
        
        .terminal-minimize {
            background-color: #ffbd2e;
        }
        
        .terminal-maximize {
            background-color: #27c93f;
        }
        
        .terminal-title {
            color: var(--terminal-comment);
            font-size: 12px;
            margin-left: 15px;
            margin-right: 20px;
        }
        
        .terminal-tabs {
            display: flex;
            margin-left: 20px;
        }
        
        .terminal-tab {
            color: var(--terminal-comment);
            text-decoration: none;
            padding: 0 15px;
            font-size: 14px;
            line-height: 30px;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .terminal-tab:hover {
            color: var(--terminal-text);
        }
        
        .terminal-tab.active {
            color: var(--terminal-blue);
            border-bottom-color: var(--terminal-blue);
        }
        
        .terminal-body {
            padding: 20px;
            flex: 1;
            height: auto;
            overflow-y: auto;
            position: relative;
        }
        
        .terminal-line {
            margin: 0;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            position: relative;
            margin-bottom: 10px;
        }
        
        .terminal-prompt {
            color: var(--terminal-prompt);
            margin-right: 10px;
            white-space: nowrap;
        }
        
        .terminal-prompt::before {
            content: "➜";
            margin-right: 8px;
        }
        
        .terminal-command {
            color: var(--terminal-text);
            font-weight: 500;
        }
        
        .terminal-output {
            width: 100%;
            padding: 10px 0 20px 25px;
            white-space: pre-wrap;
        }
        
        /* Pure ASCII Table Style */
        .ascii-table {
            font-family: 'Fira Code', monospace;
            white-space: pre;
            color: var(--terminal-comment);
            font-size: 14px;
            line-height: 1.5;
            margin: 0;
            padding: 0;
        }
        
        .ascii-table a {
            color: var(--terminal-blue);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .ascii-table a:hover {
            color: var(--terminal-cyan);
            text-decoration: underline;
        }
        
        /* Stats section */
        .stats-section {
            margin-top: 10px;
            padding: 10px 15px;
            background-color: rgba(255, 255, 255, 0.03);
            border-radius: 3px;
        }
        
        .stats-content {
            display: flex;
            gap: 20px;
        }
        
        .stats-item {
            display: flex;
            align-items: center;
        }
        
        .stats-label {
            color: var(--terminal-purple);
            margin-right: 8px;
        }
        
        .stats-value {
            color: var(--terminal-text);
            font-weight: bold;
        }
        
        /* Footer */
        .terminal-footer {
            background-color: var(--terminal-bg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            text-align: center;
            color: var(--terminal-comment);
            font-size: 0.9rem;
        }
        
        /* Blog post content */
        .blog-post-content {
            display: none;
            padding: 20px;
            margin-top: 20px;
            background-color: rgba(255, 255, 255, 0.03);
            border-radius: 4px;
        }
        
        .blog-post-content h1 {
            color: var(--terminal-yellow);
            margin-top: 0;
        }
        
        .blog-post-content h2, 
        .blog-post-content h3 {
            color: var(--terminal-blue);
        }
        
        .blog-post-content pre {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
        
        .blog-post-content code {
            font-family: var(--terminal-font);
            color: var(--terminal-green);
        }
        
        .blog-post-header {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px dashed var(--terminal-comment);
        }
        
        .blog-post-meta {
            color: var(--terminal-comment);
            font-size: 0.9rem;
        }
        
        .back-to-list {
            display: inline-block;
            margin-top: 20px;
            color: var(--terminal-blue);
            text-decoration: none;
            cursor: pointer;
        }
        
        .back-to-list:hover {
            text-decoration: underline;
        }
        
        /* Matrix Effect (Optional) */
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.05;
        }
    </style>
</head>
<body>
    <!-- Terminal Window -->
    <div class="terminal-window">
        <div class="terminal-header">
            <div class="terminal-button terminal-close"></div>
            <div class="terminal-button terminal-minimize"></div>
            <div class="terminal-button terminal-maximize"></div>
            <div class="terminal-title">leo@redshift: ~/blog</div>
            <!-- Terminal Tabs -->
            <div class="terminal-tabs">
                <a href="/" class="terminal-tab">Home</a>
                <a href="/blog" class="terminal-tab active">Blog</a>
            </div>
        </div>
        <div class="terminal-body">
            <div id="terminal-output">
                <!-- Blog post listing view -->
                <div id="blog-list-view">
                    <div class="terminal-line">
                        <span class="terminal-prompt">leo@redshift</span>
                        <span class="terminal-command">ls -la --format=table posts/</span>
                    </div>
                    
                    <div class="terminal-output">
                        <!-- Pure ASCII table -->
                        <pre id="ascii-table" class="ascii-table"></pre>
                    </div>
                    
                    <!-- Stats section -->
                    <div class="terminal-line" style="margin-top: 20px;">
                        <span class="terminal-prompt">leo@redshift</span>
                        <span class="terminal-command">stats --blog</span>
                    </div>
                    
                    <div class="terminal-output stats-section">
                        <div class="stats-content">
                            <div class="stats-item">
                                <span class="stats-label">Total Posts:</span>
                                <span id="total-posts" class="stats-value">0</span>
                            </div>
                            <div class="stats-item">
                                <span class="stats-label">Last Updated:</span>
                                <span id="last-updated" class="stats-value">2024-06-09</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Blog post detail view -->
                <div id="blog-post-view" style="display: none;">
                    <div class="terminal-line">
                        <span class="terminal-prompt">leo@redshift</span>
                        <span id="cat-command" class="terminal-command">cat posts/post-file.md</span>
                    </div>
                    
                    <div class="terminal-output blog-post-content">
                        <div class="blog-post-header">
                            <h1 id="post-title"></h1>
                            <div class="blog-post-meta">
                                <span id="post-date"></span>
                            </div>
                        </div>
                        <div id="post-content"></div>
                        
                        <div class="terminal-line" style="margin-top: 20px;">
                            <span class="terminal-prompt">leo@redshift</span>
                            <span class="terminal-command">cd ..</span>
                        </div>
                        
                        <a class="back-to-list" onclick="showBlogList()">
                            <i class="fas fa-arrow-left"></i> Back to all posts
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="terminal-footer">
            <p>&copy; 2024 Leo Cai. All rights reserved.</p>
        </div>
    </div>

    <!-- Optional Matrix Background Effect -->
    <canvas id="matrix-bg" class="matrix-bg"></canvas>

    <!-- JavaScript -->
    <script>
        // Blog posts data
        const blogPosts = [
            {
                id: 1,
                filename: '2024-04-09-welcome-to-my-blog.md',
                title: 'Welcome to My Blog',
                date: '2024-04-09',
                content: `
# Welcome to My Tech Journey

As a Software Engineer at AWS Redshift, I often encounter interesting technical challenges and solutions. This blog will be a space where I share insights about:

- Database Engineering
- Distributed Systems
- Cloud Architecture
- Software Development Best Practices

## Why I Started This Blog

"Best coding is no coding" - this philosophy has guided my approach to problem-solving. Sometimes the best solution isn't adding more code, but finding simpler ways to solve problems.

## What to Expect

I'll be sharing:
- Technical deep dives into database systems
- Cloud architecture patterns
- Development practices and lessons learned
- Code snippets and solutions to common problems

### Example Code

Here's a simple example of how I might approach a problem:

\`\`\`python
def simplify_solution(complex_problem):
    # First, understand the core issue
    core_problem = identify_core_issue(complex_problem)
    
    # Then, find the simplest possible solution
    if has_existing_solution(core_problem):
        return use_existing_solution(core_problem)
        
    return develop_minimal_solution(core_problem)
\`\`\`
                `
            },
            {
                id: 2,
                filename: '2024-05-15-distributed-systems-challenges.md',
                title: 'Challenges in Distributed Database Systems',
                date: '2024-05-15',
                content: `
# Challenges in Distributed Database Systems

Working on distributed database systems at AWS Redshift has exposed me to numerous interesting challenges. In this post, I'll discuss some of the most common issues and potential solutions.

## The CAP Theorem Trade-offs

The CAP theorem states that a distributed system can only provide two of the following three guarantees:

- **Consistency**: Every read receives the most recent write
- **Availability**: Every request receives a response
- **Partition tolerance**: The system continues to operate despite network partitions

Making the right trade-offs depends on your specific use case:

- Banking systems typically prioritize consistency over availability
- Content delivery systems often choose availability over consistency
- All distributed systems must handle partition tolerance

## Handling Eventual Consistency

When working with eventually consistent systems, consider these strategies:

1. **Versioning**: Use vector clocks or timestamps to track versions
2. **Conflict resolution**: Implement merge strategies for conflicting writes
3. **Read-your-writes consistency**: Ensure users see their own updates immediately

## Performance Optimization Techniques

Some techniques I've found effective:

\`\`\`sql
-- Example of a query optimization
SELECT customer_id, SUM(order_total) 
FROM orders 
WHERE order_date > '2024-01-01'
GROUP BY customer_id
HAVING SUM(order_total) > 1000
ORDER BY SUM(order_total) DESC
LIMIT 100;
\`\`\`

The above query can be optimized by:
- Adding appropriate indexes
- Partitioning data by date
- Pre-aggregating common calculations

I'll dive deeper into each of these topics in future posts.
                `
            },
            {
                id: 3,
                filename: '2024-06-01-terminal-ui-design.md',
                title: 'Creating Effective Terminal-Style UIs',
                date: '2024-06-01',
                content: `
# Creating Effective Terminal-Style UIs

Terminal-style UIs have seen a resurgence in popularity, especially among developers and tech enthusiasts. In this post, I'll share some insights on creating effective terminal-style interfaces for web applications.

## Why Terminal UIs Are Making a Comeback

There are several reasons for the renewed interest in terminal aesthetics:

1. **Nostalgia**: Many developers have fond memories of text-based interfaces
2. **Focus on content**: Terminal UIs minimize distractions
3. **Keyboard-centric**: Power users appreciate keyboard navigation
4. **Distinctive look**: Stands out in a world of flat and material designs

## Key Design Principles

When designing a terminal-style UI, consider these principles:

- **Monospace fonts**: Use fonts like Fira Code or JetBrains Mono
- **Limited color palette**: Stick to a few well-chosen colors
- **Command-based interaction**: Implement familiar terminal commands
- **Progressive disclosure**: Start simple, reveal complexity as needed

## CSS Techniques

Here's a simple example of CSS for a terminal-style interface:

\`\`\`css
:root {
  --terminal-bg: #282c34;
  --terminal-text: #abb2bf;
  --terminal-green: #98c379;
  --terminal-blue: #61afef;
}

.terminal {
  background-color: var(--terminal-bg);
  color: var(--terminal-text);
  font-family: 'Fira Code', monospace;
  padding: 20px;
  border-radius: 6px;
}

.prompt {
  color: var(--terminal-green);
}

.command {
  color: var(--terminal-blue);
}
\`\`\`

## Accessibility Considerations

Terminal UIs can present accessibility challenges. Always ensure:

- Sufficient color contrast
- Keyboard navigability
- Screen reader compatibility
- Resizable text

I hope these tips help you create compelling terminal-style interfaces for your own projects!
                `
            }
        ];
        
        // Function to generate pure ASCII table
        function generateAsciiTable() {
            const tableElement = document.getElementById('ascii-table');
            
            // Create a plain text table without HTML tags first
            let plainTable = [];
            
            // Add header row
            plainTable.push(['DATE', 'ID', 'TITLE']);
            
            // Add data rows
            blogPosts.forEach((post, index) => {
                const id = `#${String(index + 1).padStart(3, '0')}`;
                const title = post.title;
                plainTable.push([post.date, id, title]);
            });
            
            // Calculate column widths based on content
            const colWidths = [0, 0, 0];
            plainTable.forEach(row => {
                for (let i = 0; i < row.length; i++) {
                    colWidths[i] = Math.max(colWidths[i], row[i].length);
                }
            });
            
            // Add some padding
            colWidths[0] += 2; // DATE
            colWidths[1] += 2; // ID
            colWidths[2] += 2; // TITLE
            
            // Generate the ASCII table
            let tableContent = '';
            
            // Top border
            tableContent += '┌' + '─'.repeat(colWidths[0]) + '┬' + '─'.repeat(colWidths[1]) + '┬' + '─'.repeat(colWidths[2]) + '┐\n';
            
            // Header row
            tableContent += '│' + plainTable[0][0].padEnd(colWidths[0]) + 
                           '│' + plainTable[0][1].padEnd(colWidths[1]) + 
                           '│' + plainTable[0][2].padEnd(colWidths[2]) + '│\n';
            
            // Header-data separator
            tableContent += '├' + '─'.repeat(colWidths[0]) + '┼' + '─'.repeat(colWidths[1]) + '┼' + '─'.repeat(colWidths[2]) + '┤\n';
            
            // Data rows
            for (let i = 1; i < plainTable.length; i++) {
                const row = plainTable[i];
                tableContent += '│' + row[0].padEnd(colWidths[0]) + 
                               '│' + row[1].padEnd(colWidths[1]) + 
                               '│';
                
                // Add the title with a link
                const title = row[2];
                const titleHtml = `<a href="javascript:void(0)" onclick="showBlogPost(${blogPosts[i-1].id})">${title}</a>`;
                tableContent += titleHtml + ' '.repeat(colWidths[2] - title.length) + '│\n';
                
                // Add row divider if not the last row
                if (i < plainTable.length - 1) {
                    tableContent += '├' + '─'.repeat(colWidths[0]) + '┼' + '─'.repeat(colWidths[1]) + '┼' + '─'.repeat(colWidths[2]) + '┤\n';
                }
            }
            
            // Bottom border
            tableContent += '└' + '─'.repeat(colWidths[0]) + '┴' + '─'.repeat(colWidths[1]) + '┴' + '─'.repeat(colWidths[2]) + '┘';
            
            tableElement.innerHTML = tableContent;
        }
        
        // Function to show a specific blog post
        function showBlogPost(postId) {
            const post = blogPosts.find(p => p.id === postId);
            if (!post) return;
            
            // Update command
            document.getElementById('cat-command').textContent = `cat posts/${post.filename}`;
            
            // Update post details
            document.getElementById('post-title').textContent = post.title;
            document.getElementById('post-date').textContent = `Published: ${post.date}`;
            
            // Update content with markdown formatting
            const contentElement = document.getElementById('post-content');
            contentElement.innerHTML = formatMarkdown(post.content);
            
            // Hide list view, show post view
            document.getElementById('blog-list-view').style.display = 'none';
            document.getElementById('blog-post-view').style.display = 'block';
        }
        
        // Function to show blog list
        function showBlogList() {
            document.getElementById('blog-post-view').style.display = 'none';
            document.getElementById('blog-list-view').style.display = 'block';
        }
        
        // Simple markdown formatter
        function formatMarkdown(markdown) {
            if (!markdown) return '';
            
            // Replace headers
            let formatted = markdown
                .replace(/^# (.*$)/gm, '<h1>$1</h1>')
                .replace(/^## (.*$)/gm, '<h2>$1</h2>')
                .replace(/^### (.*$)/gm, '<h3>$1</h3>')
                .replace(/^#### (.*$)/gm, '<h4>$1</h4>');
            
            // Replace lists
            formatted = formatted.replace(/^\s*-\s*(.*$)/gm, '<li>$1</li>');
            formatted = formatted.replace(/(<li>.*<\/li>\n)+/g, '<ul>$&</ul>');
            
            // Replace code blocks
            formatted = formatted.replace(/```(\w+)?\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>');
            
            // Replace inline code
            formatted = formatted.replace(/`([^`]+)`/g, '<code>$1</code>');
            
            // Replace paragraphs
            formatted = formatted.replace(/^(?!<[hou]).+$/gm, '<p>$&</p>');
            
            // Fix empty lines
            formatted = formatted.replace(/<p><\/p>/g, '');
            
            return formatted;
        }
        
        // Initialize the blog
        document.addEventListener('DOMContentLoaded', () => {
            generateAsciiTable();
            
            // Update stats
            document.getElementById('total-posts').textContent = blogPosts.length;
            document.getElementById('last-updated').textContent = new Date().toISOString().split('T')[0];
            
            // Optional: Matrix background effect
            const canvas = document.getElementById('matrix-bg');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            const fontSize = 10;
            const columns = canvas.width / fontSize;
            
            const drops = [];
            for (let i = 0; i < columns; i++) {
                drops[i] = 1;
            }
            
            function drawMatrix() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#0F0';
                ctx.font = fontSize + 'px monospace';
                
                for (let i = 0; i < drops.length; i++) {
                    const text = chars.charAt(Math.floor(Math.random() * chars.length));
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    
                    drops[i]++;
                }
            }
            
            setInterval(drawMatrix, 50);
        });
    </script>
</body>
</html>
